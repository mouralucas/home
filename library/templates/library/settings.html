{% extends 'library/base.html' %}

{% load static %}
{% load humanize %}

{% block titulo %}
    Biblioteca configurações
{% endblock %}

{% block main %}
    <div class="row">
        <div class="col-12">
            <div class="card" id="card_comandas" style="display: block;">
                <div class="card-header d-flex flex-wrap justify-content-between">
                    <div>
                        <img src="{% static 'library/img/icons/book.png' %}" alt="Graph icon" width="25">
                        Autores
                    </div>
                </div><!-- .card-header -->
                <div class="card-body">
                    {#                    <div class="input-group mb-3">#}
                    {#                        <a class="btn btn-tables icon_camera mr-2" data-target="scanner"></a>#}
                    {##}
                    {#                        <div class="input-group-prepend">#}
                    {#                            <span class="input-group-text">#}
                    {#                                  <img src="{% static 'img/icons/icon_barcode.svg' %}" width="20">#}
                    {#                            </span>#}
                    {#                        </div>#}
                    {#                        <input id="pesquisa_comanda" type="text" onChange="buscarDetalhes(this.value);" placeholder="Código comanda" class="form-control">#}
                    {#                    </div>#}
                    <div id="div_table_author_library" class="w-100"></div>
                </div><!-- .card-body -->
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <div class="card" id="card_comandas" style="display: block;">
                <div class="card-header d-flex flex-wrap justify-content-between">
                    <div>
                        <img src="{% static 'library/img/icons/book.png' %}" alt="Graph icon" width="25">
                        Séries
                    </div>
                </div><!-- .card-header -->
                <div class="card-body">
                    {#                    <div class="input-group mb-3">#}
                    {#                        <a class="btn btn-tables icon_camera mr-2" data-target="scanner"></a>#}
                    {##}
                    {#                        <div class="input-group-prepend">#}
                    {#                            <span class="input-group-text">#}
                    {#                                  <img src="{% static 'img/icons/icon_barcode.svg' %}" width="20">#}
                    {#                            </span>#}
                    {#                        </div>#}
                    {#                        <input id="pesquisa_comanda" type="text" onChange="buscarDetalhes(this.value);" placeholder="Código comanda" class="form-control">#}
                    {#                    </div>#}
                    <div id="div_table_serie_library" class="w-100"></div>
                </div><!-- .card-body -->
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <div class="card" id="card_comandas" style="display: block;">
                <div class="card-header d-flex flex-wrap justify-content-between">
                    <div>
                        <img src="{% static 'library/img/icons/book.png' %}" alt="Graph icon" width="25">
                        Coleções
                    </div>
                </div><!-- .card-header -->
                <div class="card-body">
                    {#                    <div class="input-group mb-3">#}
                    {#                        <a class="btn btn-tables icon_camera mr-2" data-target="scanner"></a>#}
                    {##}
                    {#                        <div class="input-group-prepend">#}
                    {#                            <span class="input-group-text">#}
                    {#                                  <img src="{% static 'img/icons/icon_barcode.svg' %}" width="20">#}
                    {#                            </span>#}
                    {#                        </div>#}
                    {#                        <input id="pesquisa_comanda" type="text" onChange="buscarDetalhes(this.value);" placeholder="Código comanda" class="form-control">#}
                    {#                    </div>#}
                    <div id="div_table_collection_library" class="w-100"></div>
                </div><!-- .card-body -->
            </div>
        </div>
    </div>
{% endblock %}

{% block modals %}
    {% include 'library/modals/author.html' %}
{% endblock %}

{% block js %}
    {% include 'library/scripts/itens.html' %}

    <script>
        $(document).ready(function () {

            $(".data").datepicker('setDate', 'today');

            $(".currency").maskMoney({
                    thousands: '',
                    decimal: '.',
                    allowZero: true,
                    prefix: 'R$ ',
                    allowEmpty: false,
                    allowNegative: true,
                    selectAllOnFocus: true
                }
            );
        });

        get_table_authors();
        get_table_series();
        get_table_collections();
    </script>

    <script>
        let data_table_authors_library = new DevExpress.data.DataSource({
            store: {
                type: 'array',
                //key: "id",
                data: [],
            }
        });

        let data_table_serie_library = new DevExpress.data.DataSource({
            store: {
                type: 'array',
                //key: "id",
                data: [],
            }
        });

        let data_table_collection_library = new DevExpress.data.DataSource({
            store: {
                type: 'array',
                //key: "id",
                data: [],
            }
        });
    </script>
    {% include 'library/tables/author.html' %}
    {% include 'library/tables/serie.html' %}
    {% include 'library/tables/collection.html' %}
{% endblock %}