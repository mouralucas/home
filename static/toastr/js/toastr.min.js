("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)})(["jquery"],function(e){return function(){function t(t,o){return t||(t=a()),(l=e("#"+t.containerId)).length?l:(o&&(l=function(t){return(l=e("<div/>").attr("id",t.containerId).addClass(t.positionClass)).appendTo(e(t.target)),l}(t)),l)}function o(t){for(var o=l.children(),s=o.length-1;s>=0;s--)n(e(o[s]),t)}function n(t,o,n){var s=!(!n||!n.force)&&n.force;return!(!t||!s&&0!==e(":focus",t).length||(t[o.hideMethod]({duration:o.hideDuration,easing:o.hideEasing,complete:function(){r(t)}}),0))}function s(e){c&&c(e)}function i(o){function n(e){return null==e&&(e=""),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function i(t){var o=t&&!1!==g.closeMethod?g.closeMethod:g.hideMethod,n=t&&!1!==g.closeDuration?g.closeDuration:g.hideDuration,i=t&&!1!==g.closeEasing?g.closeEasing:g.hideEasing;if(!e(":focus",v).length||t)return clearTimeout(T.intervalId),v[o]({duration:n,easing:i,complete:function(){r(v),clearTimeout(f),g.onHidden&&"hidden"!==O.state&&g.onHidden(),O.state="hidden",O.endTime=new Date,s(O)}})}function c(){(g.timeOut>0||g.extendedTimeOut>0)&&(f=setTimeout(i,g.extendedTimeOut),T.maxHideTime=parseFloat(g.extendedTimeOut),T.hideEta=(new Date).getTime()+T.maxHideTime)}function p(){clearTimeout(f),T.hideEta=0,v.stop(!0,!0)[g.showMethod]({duration:g.showDuration,easing:g.showEasing})}function h(){var e=(T.hideEta-(new Date).getTime())/T.maxHideTime*100;b.width(e+"%")}var g=a(),m=o.iconClass||g.iconClass;if(void 0!==o.optionsOverride&&(g=e.extend(g,o.optionsOverride),m=o.optionsOverride.iconClass||m),!function(e,t){if(e.preventDuplicates){if(t.message===d)return!0;d=t.message}return!1}(g,o)){u++,l=t(g,!0);var f=null,v=e("<div/>"),w=e("<div/>"),C=e("<div/>"),b=e("<div/>"),k=e(g.closeHtml),T={intervalId:null,hideEta:null,maxHideTime:null},O={toastId:u,state:"visible",startTime:new Date,options:g,map:o};return o.iconClass&&v.addClass(g.toastClass).addClass(m),function(){if(o.title){var e=o.title;g.escapeHtml&&(e=n(o.title)),w.append(e).addClass(g.titleClass),v.append(w)}}(),function(){if(o.message){var e=o.message;g.escapeHtml&&(e=n(o.message)),C.append(e).addClass(g.messageClass),v.append(C)}}(),g.closeButton&&(k.addClass(g.closeClass).attr("role","button"),v.prepend(k)),g.progressBar&&(b.addClass(g.progressClass),v.prepend(b)),g.rtl&&v.addClass("rtl"),g.newestOnTop?l.prepend(v):l.append(v),function(){var e="";switch(o.iconClass){case"toast-success":case"toast-info":e="polite";break;default:e="assertive"}v.attr("aria-live",e)}(),v.hide(),v[g.showMethod]({duration:g.showDuration,easing:g.showEasing,complete:g.onShown}),g.timeOut>0&&(f=setTimeout(i,g.timeOut),T.maxHideTime=parseFloat(g.timeOut),T.hideEta=(new Date).getTime()+T.maxHideTime,g.progressBar&&(T.intervalId=setInterval(h,10))),g.closeOnHover&&v.hover(p,c),!g.onclick&&g.tapToDismiss&&v.click(i),g.closeButton&&k&&k.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&!0!==e.cancelBubble&&(e.cancelBubble=!0),g.onCloseClick&&g.onCloseClick(e),i(!0)}),g.onclick&&v.click(function(e){g.onclick(e),i()}),s(O),g.debug&&console,v}}function a(){return e.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1},h.options)}function r(e){l||(l=t()),e.is(":visible")||(e.remove(),e=null,0===l.children().length&&(l.remove(),d=void 0))}var l,c,d,u=0,p={error:"error",info:"info",success:"success",warning:"warning"},h={clear:function(e,s){var i=a();l||t(i),n(e,i,s)||o(i)},remove:function(o){var n=a();return l||t(n),o&&0===e(":focus",o).length?void r(o):void(l.children().length&&l.remove())},error:function(e,t,o){return i({type:p.error,iconClass:a().iconClasses.error,message:e,optionsOverride:o,title:t})},getContainer:t,info:function(e,t,o){return i({type:p.info,iconClass:a().iconClasses.info,message:e,optionsOverride:o,title:t})},options:{},subscribe:function(e){c=e},success:function(e,t,o){return i({type:p.success,iconClass:a().iconClasses.success,message:e,optionsOverride:o,title:t})},version:"2.1.3",warning:function(e,t,o){return i({type:p.warning,iconClass:a().iconClasses.warning,message:e,optionsOverride:o,title:t})}};return h}()});var $toastlast,i=-1,toastCount=0,getMessage=function(){++i===["My name is Inigo Montoya. You killed my father. Prepare to die!",'<div><input class="input-small" value="textbox"/>&nbsp;<a href="http://johnpapa.net" target="_blank">This is a hyperlink</a></div><div><button type="button" id="okBtn" class="btn btn-primary">Close me</button><button type="button" id="surpriseBtn" class="btn" style="margin: 0 8px 0 8px">Surprise me</button></div>',"Are you the six fingered man?","Inconceivable!","I do not think that means what you think it means.","Have fun storming the castle!"].length&&(i=0)},getMessageWithClearButton=function(e){return e=e||"Clear itself?",e+='<br /><br /><button type="button" class="btn clear">Yes</button>'};$("#showtoast").click(function(){var e=$("#toastTypeGroup input:radio:checked").val(),t=$("#message").val(),o=$("#title").val()||"",n=$("#showDuration"),s=$("#hideDuration"),i=$("#timeOut"),a=$("#extendedTimeOut"),r=$("#showEasing"),l=$("#hideEasing"),c=$("#showMethod"),d=$("#hideMethod"),u=toastCount++,p=$("#addClear").prop("checked");toastr.options={closeButton:$("#closeButton").prop("checked"),debug:$("#debugInfo").prop("checked"),newestOnTop:$("#newestOnTop").prop("checked"),progressBar:$("#progressBar").prop("checked"),positionClass:$("#positionGroup input:radio:checked").val()||"toast-top-right",preventDuplicates:$("#preventDuplicates").prop("checked"),onclick:null},$("#addBehaviorOnToastClick").prop("checked")&&(toastr.options.onclick=function(){alert("You can perform some custom action after a toast goes away")}),n.val().length&&(toastr.options.showDuration=n.val()),s.val().length&&(toastr.options.hideDuration=s.val()),i.val().length&&(toastr.options.timeOut=p?0:i.val()),a.val().length&&(toastr.options.extendedTimeOut=p?0:a.val()),r.val().length&&(toastr.options.showEasing=r.val()),l.val().length&&(toastr.options.hideEasing=l.val()),c.val().length&&(toastr.options.showMethod=c.val()),d.val().length&&(toastr.options.hideMethod=d.val()),p&&(t=getMessageWithClearButton(t),toastr.options.tapToDismiss=!1),t||(t=getMessage()),$("#toastrOptions").text('Command: toastr["'+e+'"]("'+t+(o?'", "'+o:"")+'")\n\ntoastr.options = '+JSON.stringify(toastr.options,null,2));var h=toastr[e](t,o);$toastlast=h,void 0!==h&&(h.find("#okBtn").length&&h.delegate("#okBtn","click",function(){alert("you clicked me. i was toast #"+u+". goodbye!"),h.remove()}),h.find("#surpriseBtn").length&&h.delegate("#surpriseBtn","click",function(){alert("Surprise! you clicked me. i was toast #"+u+". You could perform an action here.")}),h.find(".clear").length&&h.delegate(".clear","click",function(){toastr.clear(h,{force:!0})}))});var getLastToast=function(){return $toastlast};$("#clearlasttoast").click(function(){toastr.clear(getLastToast())}),$("#cleartoasts").click(function(){toastr.clear()}),toastr.options={closeButton:!0,debug:!0,newestOnTop:!0,progressBar:!0,positionClass:"toast-top-right",preventDuplicates:!0,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};